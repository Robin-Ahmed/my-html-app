<!DOCTYPE html>
<html>
<head>

<!-- mobile zoom lock -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<!-- cache off -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">

<style>
/* 3D marquee */
.threeD-text {
    font-size: 22px;
    font-weight: bold;
    color: #fff;
    padding: 10px;
    background: #111;
    text-shadow:
        1px 1px 0px #ff00c8,
        2px 2px 0px #ff00c8,
        3px 3px 0px #ff00c8;
    font-family: Arial, sans-serif;
}

/* Main body */
body {
    margin:0;
    padding:0;
    background:white;
    font-family: Arial;
    overflow-y: auto !important;
}

/* Video box */
.video-box {
    margin: 20px auto;
    width: 90%;
    background: white;
    padding: 15px;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    border-left: 6px solid #1877f2;
}

.title-box {
    background: linear-gradient(90deg, #1877f2, #42a5ff);
    padding: 10px 15px;
    border-radius: 10px;
    font-size: 18px;
    font-weight: bold;
    color: white;
    margin-bottom: 10px;
    text-align: center;
}

iframe {
    width: 100%;
    height: 300px;
    border: none;
    border-radius: 10px;
    margin-top: 10px;
}

.download-btn {
    display: inline-block;
    margin-top: 10px;
    background: red;
    color: white;
    padding: 10px 15px;
    border-radius: 10px;
    text-decoration: none;
    font-size: 16px;
    font-weight: bold;
}

/* Floating Gallery Button */
#mediaBtn {
    position: fixed;
    top: 15px;
    left: 50%;
    transform: translateX(-50%);
    background:#ff0095;
    padding:12px 20px;
    color:white;
    border-radius:10px;
    font-weight:bold;
    text-decoration:none;
    z-index:9999;
    box-shadow:0 4px 10px rgba(0,0,0,0.3);
}

/* Gallery Modal */
#galleryModal {
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:rgba(0,0,0,0.85);
    overflow:auto;
    z-index:99999;
    padding:20px;
}

.gallery-grid {
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap:10px;
}

.gallery-grid img {
    width:100%;
    border-radius:10px;
    cursor:pointer;
}

.closeBtn {
    background:red;
    color:white;
    padding:10px 15px;
    border-radius:8px;
    position: sticky;
    top:10px;
}
</style>

<script>

function checkInternet() {
    if (navigator.onLine) {
        document.getElementById("no-internet").style.display = "none";
        document.getElementById("main-content").style.display = "block";
        loadVideos();
    } else {
        document.getElementById("main-content").style.display = "none";
        document.getElementById("no-internet").style.display = "block";
    }
}

window.addEventListener("online", checkInternet);
window.addEventListener("offline", checkInternet);
window.onload = checkInternet;

/* Google Drive Fetch */
function loadVideos() {
    const apiKey = "AIzaSyD7fZ8nt8LFa9iY8GfDBfhakIR2aqSE-Ms";
    const folderId = "1C78cLvYYP2AHaalMutvlJaNx0UjtgcIq";

    fetch(`https://www.googleapis.com/drive/v3/files?q='${folderId}'+in+parents&key=${apiKey}&fields=files(id,name,mimeType)`)
        .then(r=>r.json())
        .then(data=>{
            const list = document.getElementById("videoList");
            const gallery = document.getElementById("galleryGrid");
            list.innerHTML = "";
            gallery.innerHTML = "";

            data.files.forEach(file=>{
                if(file.mimeType.includes("video")){

                    list.innerHTML += `
                        <div class="video-box">
                            <div class="title-box">${file.name}</div>
                            <iframe src="https://drive.google.com/file/d/${file.id}/preview" allow="autoplay" allowfullscreen></iframe>
                            <a class="download-btn" href="https://drive.google.com/uc?export=download&id=${file.id}">Download</a>
                        </div>
                    `;

                    gallery.innerHTML += `
                        <img src="https://drive.google.com/thumbnail?id=${file.id}" onclick="openVideo('${file.id}')">
                    `;
                }
            });
        });
}

/* Thumbnail click ‚Üí Play */
function openVideo(id){
    window.location.href = `https://drive.google.com/file/d/${id}/preview`;
}

function openGallery(){
    document.getElementById("galleryModal").style.display = "block";
}
function closeGallery(){
    document.getElementById("galleryModal").style.display = "none";
}
</script>

</head>

<body>

<!-- marquee ‡¶è‡¶ñ‡¶® BODY ‡¶§‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá -->
<marquee behavior="scroll" direction="left" class="threeD-text">
 Powered By : ToXic üéØ | Fast Video Upload & Download üéûÔ∏è
</marquee>
<!-- Floating Media Menu -->
<a id="mediaBtn" onclick="openGallery()" 
   style="
       position:fixed; 
       top:60px;      /* Telegram ‡¶è‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */
       right:10px;
       background:#ff0095; 
       padding:12px 20px; 
       color:white; 
       border-radius:10px; 
       font-weight:bold; 
       text-decoration:none; 
       z-index:9999; 
       box-shadow:0 4px 10px rgba(0,0,0,0.3);
   ">
   üìÅ Media Gallery
</a>

<!-- Gallery Modal -->
<div id="galleryModal">
    <button class="closeBtn" onclick="closeGallery()">Close ‚úñ</button>
    <div id="galleryGrid" class="gallery-grid"></div>
</div>

<!-- Telegram Floating Button -->
<a href="https://t.me/toXic_u0u" 
   style="
       position:fixed; 
       top:10px; 
       right:10px; 
       background:#0088cc; 
       color:white; 
       padding:10px 15px; 
       border-radius:10px; 
       font-weight:bold; 
       text-decoration:none; 
       box-shadow:0 4px 10px rgba(0,0,0,0.2);
   ">
   Telegram
</a>
<h2 style="text-align:center; padding:15px; background:#1877f2; color:white; margin:0;">XVIDEO</h2>

<!-- No Internet -->
<div id="no-internet" style="display:none;">
    ‚ùå No Internet Connection <br><br>
    üîå Please Turn On WiFi or Mobile Data  
</div>

<!-- Main -->
<div id="main-content" style="display:none;">
    <div id="videoList"></div>
</div>

</body>
</html>
